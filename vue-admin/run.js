!function(t,e){"object"==typeof module&&"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.VueRun=e()}(this,function(){"use strict";function t(t,e){return typeof t===e}function e(){return t(S.version,"object")?1:+S.version}function n(t){this.name=t,this.isPre=!1,this.styles=[],this._scopeId="",this.template=this.script=null}function r(t,e){this.component=t,this.elt=e,this.module={exports:{}}}function i(t,e,n){d(e,"name",n),this.component=t,this.elt=e}function o(t,e){this.component=t,this.elt=e}function s(t){return t}function u(t,e){if(t){if(Array.isArray(t)||(t=[t]),e)for(var n in t)e(t[n]);return t}}function c(t){var e=t.match(/(.*?)([^\/]+?)\/?(\.vue)?(\?.*|#.*|$)/);return{name:e[2],url:e[1]+e[2]+(void 0===e[3]?"data:"!==e[1].substr(0,5)?".vue":"":e[3])+e[4]}}function l(t,e){return"./"===e.substr(0,2)||"../"===e.substr(0,3)?t+e:e}function a(t,e,n){var r=c(t);return a.load(r.url,e,n)}function h(t){return S.cdn+"/lib/"+t}function f(t,e){return new Promise(function(n,r){t=u(t)||[];var i=function(){var r=t.length;if(!r)return void n();var o=t.shift(),s=e(o,function(){r--,r?i():n(),T[o]=o});s&&P.head.appendChild(s)};i()})}function p(e,n,r,i){var o=P.createElement(e);if(t(i,"object"))for(var s in i)o[s]=i[s];return o.onload=function(){n&&n(i)},o.onerror=function(){r&&r(i)},o}function d(t,e,n){if(e="data-"+e,null===n)return t.getAttribute(e);void 0!==n&&t.setAttribute(e,n)}function m(){return P.head||P.getElementsByTagName("head")[0]}function v(t){return"data:"===t.substr(0,5)}function b(t){return v(t)?"":(L.href=t,L.host!==location.host?L.href:L.pathname)}function g(t){try{return new Function(t)(),!0}catch(t){return!1}}function y(t,e){var n=a.debug;n&&n.reload&&(n.createRecord(t,e),n.reload(t,e))}function C(t){return"$$"+t.replace(/[\\.\/:|?]/g,"_")}function x(e,n){var r=R.Babel&&t(R.Babel.transform,"function");return e?r?Babel.transform(e,{moduleId:n,presets:["es2015","stage-3"],plugins:["transform-es2015-modules-umd"]}).code:e:r}function E(t){var e=1,n=function(){--e||t()};"Promise"in R||(e++,m().appendChild(p("script",n,n,{src:h("promise.js")}))),"regeneratorRuntime"in R||(e++,m().appendChild(p("script",n,n,{src:h("regenerator-runtime.js")})));var r=p("script",function(){x()&&!A&&(a.langProcessor.js=function(t){return x(t,this.name)},a.scriptExportsHandler=function(t){return this.component.script.module.exports.default}),n()},0,{src:h("babel.js")});m().appendChild(r)}var R=window,P=document,j={},I={},w=0,T={},S={debug:!1,version:0,cdn:"./static",babel:!0,js:[],css:[],global:{}},A=g("export const a=1"),L=P.createElement("a");i.prototype={withBase:function(t){var e;if(this.component.baseURI){e=P.createElement("base"),e.href=this.component.baseURI;var n=m();n.insertBefore(e,n.firstChild)}t.call(this),e&&m().removeChild(e)},scopeStyles:function(t,e){function n(){for(var n=t.sheet,r=n.cssRules,i=0;i<r.length;++i){var o=r[i];if(1===o.type){var s=[];o.selectorText.split(/\s*,\s*/).forEach(function(t){s.push(e+" "+t);var n=t.match(/([^ :]+)(.+)?/);s.push(n[1]+e+(n[2]||""))});var u=s.join(",")+o.cssText.substr(o.selectorText.length);n.deleteRule(i),n.insertRule(u,i)}}}try{n()}catch(e){if(e instanceof DOMException&&e.code===DOMException.INVALID_ACCESS_ERR)return t.sheet.disabled=!0,void t.addEventListener("load",function e(){t.removeEventListener("load",e),setTimeout(function(){n(),t.sheet.disabled=!1})});throw e}},compile:function(){var t,e=null!==this.template,n=P.querySelector("[data-name='"+d(this.elt,"name",null)+"']");if(!this.elt.innerText.replace(/(^\s*)|(\s*$)/g,""))return void(n&&m().removeChild(n));var r=this.elt.hasAttribute("scoped");if(r){if(!e)return;this.elt.removeAttribute("scoped")}if(this.withBase(function(){if(n){t=d(n,"scopeId",null);for(var e=0;e<n.sheet.cssRules.length;++e)n.sheet.removeRule(e);n.innerHTML=this.elt.innerHTML}else m().appendChild(this.elt)}),r){var i=this.component.getScopeId(t);d(this.elt,"scopeId",i),this.scopeStyles(n||this.elt,"["+i+"]",!!n)}return Promise.resolve()},getContent:function(){return this.elt.textContent},setContent:function(t){this.withBase(function(){this.elt.textContent=t})}},r.prototype={getContent:function(){return this.elt.textContent},setContent:function(t){this.elt.textContent=t},load:function(e){var n=Promise.resolve(null);if(t(e,"object")){var r=[],i=[],o=[];u(e.js,function(t){r.push(a.loadjs(t))}),u(e.css,function(t){i.push(a.loadcss(t))}),(r.length>0||i.length>0||o.length>0)&&(n=Promise.all(Array.prototype.concat(i,r,o)))}return n.catch(function(){}).then(function(){return this}.bind(this))},compile:function(){var e=function(t){var e=C(l("",t));return a.loadEs(t,e)}.bind(this),n=this.getContent();try{Function("exports","get","VueRun","load","module",n).call(this.module.exports,this.module.exports,e,a,this.load,this.module)}catch(e){if(!("lineNumber"in e))return console.log(n),Promise.reject(t(e,"object")?e.message||e:e);var r=responseText.replace(/\r?\n/g,"\n"),i=r.substr(0,r.indexOf(script)).split("\n").length+e.lineNumber-1;throw new e.constructor(e.message,url,i)}return Promise.resolve(this.module.exports).then(a.scriptExportsHandler.bind(this)).then(function(t){this.module.exports=t}.bind(this))}},o.prototype={getContent:function(){return this.elt.innerHTML},setContent:function(t){this.elt.innerHTML=t},getRootElt:function(){var t=this.elt.content||this.elt;if("firstElementChild"in t)return t.firstElementChild;for(t=t.firstChild;null!==t;t=t.nextSibling)if(t.nodeType===Node.ELEMENT_NODE)return t;return null},compile:function(){return Promise.resolve()}},n.prototype={getScopeId:function(t){return""===this._scopeId&&(t||(t="data-s-"+(w++).toString(36)),this._scopeId=t),this.template&&this.template.getRootElt().setAttribute(this._scopeId,""),this._scopeId},load:function(e,n){var s;return!n&&t(I[e],"string")?(this.isPre=!0,s=new Promise(function(t,n){t(I[e])})):s=new Promise(function(t,r){if(!n&&j[e])return void t(j[e]);a.httpRequest(e).then(function(n){t(n),j[e]=n}).catch(r)}),s.then(function(t){this.baseURI=v(e)?"":e.substr(0,e.lastIndexOf("/")+1);var n=P.implementation.createHTMLDocument("");n.body.innerHTML=(this.baseURI?'<base href="'+this.baseURI+'">':"")+t;for(var s=n.body.firstChild;s;s=s.nextSibling)switch(s.nodeName){case"TEMPLATE":this.template=new o(this,s);break;case"SCRIPT":this.script=new r(this,s);break;case"STYLE":this.styles.push(new i(this,s,b(e)))}return this}.bind(this))},_normalizeSection:function(t,e){var n;return n=null!==t&&t.elt.hasAttribute("src")?a.httpRequest(t.elt.getAttribute("src")).then(function(e){return t.elt.removeAttribute("src"),e}):Promise.resolve(null),n.then(function(e){if(e||!t)return e;e=t.getContent();var n=t.elt.hasAttribute("lang");if(n){var r=t.elt.getAttribute("lang");return t.elt.removeAttribute("lang"),(a.langProcessor[r]||s).call(this,e)}return!n&&t.module?a.langProcessor.js.call(this,e):e}.bind(this)).then(function(e){return null!==e&&t.setContent(e),e})},normalize:function(t){return this.isPre?new Promise(function(t,e){t(this)}.bind(this)):Promise.all(Array.prototype.concat(this._normalizeSection(this.template,t),this._normalizeSection(this.script,t),this.styles.map(this._normalizeSection))).then(function(e){return!this.isPre&&"VueRunDeal"in R&&R.VueRunDeal(t,e,this),this}.bind(this))},compile:function(){return Promise.all(Array.prototype.concat(this.styles.map(function(t){return t.compile()}),this.template&&this.template.compile(),this.script&&this.script.compile())).then(function(){return this}.bind(this))}},a.preLoad=function(t){for(var e in t)I[e]=t[e]},a.hotReload=function(t){return this.load(t,null,!0)()},a.load=function(e,r,i){return function(){var o=b(e);return o&&(e=o),new n(r).load(e,i).then(function(t){return t.normalize(e)}).then(function(t){return t.compile()}).then(function(t){var n=null!==t.script?t.script.module.exports:{};return null!==t.template&&(n.template=t.template.getContent()),void 0===n.name&&void 0!==t.name&&(n.name=t.name),n._baseURI=t.baseURI,y(e,n),n}).catch(function(n){404===n&&t(S.notExist,"function")?S.notExist(e):n&&console.error(e,n)})}},a.httpRequest=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="text",r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?e(r.responseText):n(r.status))},r.send(null)})},a.langProcessor={html:s,js:s,css:s},a.scriptExportsHandler=s,a.loadEs=function(t,e,n){t=b(t);var r;if(!n&&T[e])r=Promise.resolve(R[e]);else{var i=C(l("",t));if(!n&&T[i])r=Promise.resolve(R[i]);else{var o=function(n,r){return Function(n).call(R),T[i]=T[e]=t,r&&O(i,n,"j"),e!==i&&(R[i]=R[e]),R[e]};r=I[i]?Promise.resolve(o(I[i],!1)):a.httpRequest(t).then(function(t){return o(x(t,e),!0)}).catch(function(e){console.warn(e,t,void 0)})}}return r},a.loadcss=function(t){return f(t,function(t,e){return T[t]?void e():p("link",e,e,{href:t,rel:"stylesheet"})})},a.loadjs=function(t){return f(t,function(t,e){return T[t]?void e():(T[t]=t,p("script",e,e,{src:t}))})},a.debug=null,a.isSupportEs6=g,a.staticState=T,a.lib=function(t){return S.cdn+t},a.config=function(e){if(t(e,"object"))for(var n in e)e.hasOwnProperty(n)&&(S[n]=e[n])},a.init=function(n,r){a.config(r),function(){if(M&&e()){var t=[];N(function(n,r){try{var i=n.split("|");4===i.length&&(e()===+i[1]?(r[i[3]]=JSON.parse(M.getItem(n)||""),a.preLoad(r,i[2])):t.push(n))}catch(t){console.warn(t)}});for(var n in t)M.removeItem(t[n])}}();var i=function(){var e=Object.keys(S.global),r=e.length,i=function(){--r<=0&&n&&n()};if(r>0)for(var o in S.global){var s=S.global[o];t(s,"string")?a.loadEs(S.global[o],o).then(i):(R[o]=s,i())}else i()},o=function(){var e=S.js.length,n=S.css.length,r=e+n,o=function(){--r<=0&&setTimeout(function(){i()})};if(r>0){for(var s=P.createDocumentFragment(),u=0;u<e;u++){var c=S.js[u],l={};c?(t(c,"object")&&(l=c[1],c=c[0]),l.src=c,s.appendChild(p("script",o,o,l))):r--}for(var u=0;u<n;u++){var c=S.css[u],l={rel:"stylesheet"};c?(t(c,"object")&&(l=c[1],c=c[0]),l.href=c,s.appendChild(p("link",o,o,l))):r--}m().appendChild(s)}else o()},s=function(){A?o():S.babel?E(o):o()};R.Vue||R.vue?s():m().appendChild(p("script",s,null,{src:h(S.debug?"vue.js":"vue.min.js")}))};var _,M=localStorage,H="VueRun_Cache|",N=function(t){for(var e=0;e<M.length;e++){var n=M.key(e),r={};0===n.indexOf(H)&&t(n,r)}},O=function(t,n,r){M&&e()&&setTimeout(function(){t=H+e()+"|"+r+"|"+t;try{M.setItem(t,JSON.stringify(n))}catch(t){_=!0,console.warn(t)}},1e3)};return a.clearCache=function(){if(M){var t=[];N(function(e,n){t.push(e)});for(var e in t)M.removeItem(t[e])}},R.VueRunDeal=function(t,e,n){var r="<template>"+e[0]+"</template>";r+="<script>"+e[1]+"<\/script>",r+="<style "+(n&&n.styles.length>0&&n.styles[0].elt.hasAttribute("data-scopeid")?"scoped":"")+">"+e[2]+"</style>",O(t,r,"v")},a});