!function(t,e){"object"==typeof module&&"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.VueRun=e()}(this,function(){function t(t){if(0===t.indexOf("@/")&&(t=t.slice(2)),".vue"===t.slice(-4))return h(t);if(window[t])return window[t];var e=g(t),n=C(a("",e));return window[n]?window[n]:void 0}function e(t,e){return typeof t===e}function n(){return e(L.version,"object")?1:+L.version}function r(t){this.name=t,this.isPre=!1,this.styles=[],this._scopeId="",this.template=this.script=null}function i(t,e){this.component=t,this.elt=e,this.module={exports:{}}}function o(t,e,n){m(e,"name",n),this.component=t,this.elt=e}function s(t,e){this.component=t,this.elt=e}function u(t){return t}function c(t,e){if(t){if(Array.isArray(t)||(t=[t]),e)for(var n in t)e(t[n]);return t}}function l(t){var e=t.match(/(.*?)([^\/]+?)\/?(\.vue)?(\?.*|#.*|$)/);return{name:e[2],url:e[1]+e[2]+(void 0===e[3]?"data:"!==e[1].substr(0,5)?".vue":"":e[3])+e[4]}}function a(t,e){return"./"===e.substr(0,2)||"../"===e.substr(0,3)?t+e:e}function h(t,e,n){L.public&&0!==t.indexOf("http")&&0!==t.indexOf("https")&&(t=L.public+t);var r=l(t);return h.load(r.url,e,n)}function f(t){return L.cdn+"/lib/"+t}function p(t,e){return new Promise(function(n,r){t=c(t)||[];var i=function(){var r=t.length;if(!r)return void n();var o=t.shift(),s=e(o,function(){r--,r?i():n(),A[o]=o});s&&j.head.appendChild(s)};i()})}function d(t,n,r,i){var o=j.createElement(t);if(e(i,"object"))for(var s in i)o[s]=i[s];return o.onload=function(){n&&n(i)},o.onerror=function(){r&&r(i)},o}function m(t,e,n){if(e="data-"+e,null===n)return t.getAttribute(e);void 0!==n&&t.setAttribute(e,n)}function v(){return j.head||j.getElementsByTagName("head")[0]}function b(t){return"data:"===t.substr(0,5)}function g(t){return b(t)?"":(O.href=t,O.host!==location.host?O.href:O.pathname)}function y(t){try{return new Function(t)(),!0}catch(t){return!1}}function x(t,e){var n=h.debug;n&&n.reload&&(n.createRecord(t,e),n.reload(t,e))}function C(t){return"$$"+t.replace(/[\\.\/:|?]/g,"_")}function P(t,n){var r=w.Babel&&e(w.Babel.transform,"function");return t?r?Babel.transform(t,{moduleId:n,presets:["es2015","stage-3"],plugins:L.babelPlugins}).code:t:r}function E(){return new Promise(function(t,e){if(P())return t();v().appendChild(d("script",function(){P()&&!_&&(h.langProcessor.babel=function(t){return P(t,this.name)},L.babel&&(h.langProcessor.js=h.langProcessor.babel)),t()},0,{src:f("babel.js")}))})}function R(t){var e=1,n=function(){!--e&&t&&t()};return"Promise"in w||(e++,v().appendChild(d("script",n,n,{src:f("promise.js")}))),"regeneratorRuntime"in w||(e++,v().appendChild(d("script",n,n,{src:f("regenerator-runtime.js")}))),E().then(function(){n()})}var w=window,j=document,I={},T={},S=0,A={},L={debug:!1,vue:"",version:0,cdn:"./static",babel:!0,babelPlugins:["transform-es2015-modules-umd"],js:[],css:[],global:{}},_=y("export const a=1"),O=j.createElement("a");h.version="1.1.2",o.prototype={withBase:function(t){var e;if(this.component.baseURI){e=j.createElement("base"),e.href=this.component.baseURI;var n=v();n.insertBefore(e,n.firstChild)}t.call(this),e&&v().removeChild(e)},scopeStyles:function(t,e){function n(){for(var n=t.sheet,r=n.cssRules,i=0;i<r.length;++i){var o=r[i];if(1===o.type){var s=[];o.selectorText.split(/\s*,\s*/).forEach(function(t){s.push(e+" "+t);var n=t.match(/([^ :]+)(.+)?/);s.push(n[1]+e+(n[2]||""))});var u=s.join(",")+o.cssText.substr(o.selectorText.length);n.deleteRule(i),n.insertRule(u,i)}}}try{n()}catch(e){if(e instanceof DOMException&&e.code===DOMException.INVALID_ACCESS_ERR)return t.sheet.disabled=!0,void t.addEventListener("load",function e(){t.removeEventListener("load",e),setTimeout(function(){n(),t.sheet.disabled=!1})});throw e}},compile:function(){var t,e=null!==this.template,n=j.querySelector("[data-name='"+m(this.elt,"name",null)+"']");if(!this.elt.innerText.replace(/(^\s*)|(\s*$)/g,""))return void(n&&v().removeChild(n));var r=this.elt.hasAttribute("scoped");if(r){if(!e)return;this.elt.removeAttribute("scoped")}if(this.withBase(function(){if(n){t=m(n,"scopeId",null);for(var e=0;e<n.sheet.cssRules.length;++e)n.sheet.removeRule(e);n.innerHTML=this.elt.innerHTML}else v().appendChild(this.elt)}),r){var i=this.component.getScopeId(t);m(this.elt,"scopeId",i),this.scopeStyles(n||this.elt,"["+i+"]",!!n)}return Promise.resolve()},getContent:function(){return this.elt.textContent},setContent:function(t){this.withBase(function(){this.elt.textContent=t})}},i.prototype={getContent:function(){return this.elt.textContent},setContent:function(t){this.elt.textContent=t},load:function(t){var n=Promise.resolve(null);if(t&&e(t,"object")){var r=[],i=[],o=[];c(t.js||[],function(t){if(".es6"!==t.slice(-4))return void r.push(h.loadjs(t));A[t]||o.push(h.loadEs(t))}),c(t.css||[],function(t){i.push(h.loadcss(t))}),(r.length>0||i.length>0||o.length>0)&&(n=Promise.all(Array.prototype.concat(i,r,o)))}return n.catch(function(){}).then(function(){return this}.bind(this))},compile:function(){var n=function(t){var e=C(a("",t));return h.loadEs(t,e)}.bind(this),r=this.getContent();try{Function("exports","get","VueRun","load","module","require",r).call(this.module.exports,this.module.exports,n,h,this.load,this.module,t)}catch(t){if(!("lineNumber"in t))return console.log(r),Promise.reject(e(t,"object")?t.message||t:t);var i=responseText.replace(/\r?\n/g,"\n"),o=i.substr(0,i.indexOf(script)).split("\n").length+t.lineNumber-1;throw new t.constructor(t.message,url,o)}return Promise.resolve(this.module.exports).then(h.scriptExportsHandler.bind(this)).then(function(t){this.module.exports=t}.bind(this))}},s.prototype={getContent:function(){return this.elt.innerHTML},setContent:function(t){this.elt.innerHTML=t},getRootElt:function(){var t=this.elt.content||this.elt;if("firstElementChild"in t)return t.firstElementChild;for(t=t.firstChild;null!==t;t=t.nextSibling)if(t.nodeType===Node.ELEMENT_NODE)return t;return null},compile:function(){return Promise.resolve()}},r.prototype={getScopeId:function(t){return""===this._scopeId&&(t||(t="data-s-"+(S++).toString(36)),this._scopeId=t),this.template&&this.template.getRootElt().setAttribute(this._scopeId,""),this._scopeId},load:function(t,n,r){var u=i.prototype.load(r);return!n&&e(T[t],"string")?(this.isPre=!0,u=u.then(function(){return T[t]})):u=u.then(function(){return!n&&I[t]?I[t]:h.httpRequest(t).then(function(e){return I[t]=e,e})}),u.then(function(e){this.baseURI=b(t)?"":t.substr(0,t.lastIndexOf("/")+1);var n=j.implementation.createHTMLDocument("");n.body.innerHTML=(this.baseURI?'<base href="'+this.baseURI+'">':"")+e;for(var r=n.body.firstChild;r;r=r.nextSibling)switch(r.nodeName){case"TEMPLATE":this.template=new s(this,r);break;case"SCRIPT":this.script=new i(this,r);break;case"STYLE":this.styles.push(new o(this,r,g(t)))}return this}.bind(this))},_normalizeSection:function(t,e){var n;return n=null!==t&&t.elt.hasAttribute("src")?h.httpRequest(t.elt.getAttribute("src")).then(function(e){return t.elt.removeAttribute("src"),e}):Promise.resolve(null),n.then(function(e){if(e||!t)return e;e=t.getContent();var n=t.elt.hasAttribute("lang");if(n){var r=t.elt.getAttribute("lang");return t.elt.removeAttribute("lang"),"babel"===r?R().then(function(){return(h.langProcessor[r]||u).call(this,e)}.bind(this)):(h.langProcessor[r]||u).call(this,e)}return!n&&t.module?h.langProcessor.js.call(this,e):e}.bind(this)).then(function(e){return null!==e&&t.setContent(e),e})},normalize:function(t){return this.isPre?new Promise(function(t,e){t(this)}.bind(this)):Promise.all(Array.prototype.concat(this._normalizeSection(this.template,t),this._normalizeSection(this.script,t),this.styles.map(this._normalizeSection))).then(function(e){return!this.isPre&&"VueRunDeal"in w&&w.VueRunDeal(t,e,this),this}.bind(this))},compile:function(){return Promise.all(Array.prototype.concat(this.styles.map(function(t){return t.compile()}),this.template&&this.template.compile(),this.script&&this.script.compile())).then(function(){return this}.bind(this))}},h.preLoad=function(t){for(var e in t)T[e]=t[e]},h.hotReload=function(t){return this.load(t,null,!0)()},h.load=function(t,n,i){return function(){var o=g(t);o&&(t=o);var s={};return e(n,"object")&&(s=n,n=""),new r(n).load(t,i,s).then(function(e){return e.normalize(t)}).then(function(t){return t.compile()}).then(function(e){var n=null!==e.script?e.script.module.exports:{};return null!==e.template&&(n.template=e.template.getContent()),void 0===n.name&&void 0!==e.name&&(n.name=e.name),n._baseURI=e.baseURI,x(t,n),n}).catch(function(n){404===n&&e(L.notExist,"function")?L.notExist(t):n&&console.error(t,n)})}},h.httpRequest=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="text",L.version&&r.setRequestHeader("Cache-Control","no-cache"),r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?e(r.responseText):n(r.status))},r.send(null)})},h.langProcessor={html:u,js:u,javascript:u,css:u},h.scriptExportsHandler=function(t){var e=this.component.script.module;return e?e.exports.default||e.exports:t},h.loadEs=function(t,e,n){if(!t)return Promise.resolve("");t=g(t);var r,i=C(a("",t));if(e||(e=i),!n&&A[e])r=Promise.resolve(w[e]);else if(!n&&A[i])r=Promise.resolve(w[i]);else{var o=function(n,r){return Function(n).call(w),A[i]=A[e]=t,r&&q(i,n,"j"),e!==i&&(w[i]=w[e]),w[e]};r=T[i]?Promise.resolve(o(T[i],!1)):h.httpRequest(t).then(function(t){return o(P(t,e),!0)}).catch(function(e){console.warn(e,t,void 0)})}return r},h.loadcss=function(t){return p(t,function(t,e){return A[t]?void e():d("link",e,e,{href:t,rel:"stylesheet"})})},h.loadjs=function(t){return p(t,function(t,e){return A[t]?void e():(A[t]=t,d("script",e,e,{src:t}))})},h.debug=null,h.isSupportEs6=y,h.staticState=A,h.lib=function(t){return L.cdn+t},h.config=function(t){if(e(t,"object"))for(var n in t)t.hasOwnProperty(n)&&(L[n]=t[n])},h.init=function(t,r){h.config(r),function(){if(H&&n()){var t=[];D(function(e,r){try{var i=e.split("|");4===i.length&&(n()===+i[1]?(r[i[3]]=JSON.parse(H.getItem(e)||""),h.preLoad(r,i[2])):t.push(e))}catch(t){console.warn(t)}});for(var e in t)H.removeItem(t[e])}}();var i=function(){var n=Object.keys(L.global),r=n.length,i=function(){--r<=0&&t&&t()};if(r>0)for(var o in L.global){var s=L.global[o];e(s,"string")?h.loadEs(s,o).then(i):(w[o]=s,i())}else i()},o=function(){var t=L.js.length,n=L.css.length,r=t+n,o=function(){--r<=0&&setTimeout(function(){i()})};if(r>0){for(var s=j.createDocumentFragment(),u=0;u<t;u++){var c=L.js[u],l={};c?(e(c,"object")&&(l=c[1],c=c[0]),l.src=c,s.appendChild(d("script",o,o,l))):r--}for(var u=0;u<n;u++){var c=L.css[u],l={rel:"stylesheet"};c?(e(c,"object")&&(l=c[1],c=c[0]),l.href=c,s.appendChild(d("link",o,o,l))):r--}v().appendChild(s)}else o()},s=function(){_?o():L.babel?R(o):o()};w.Vue||w.vue?s():v().appendChild(d("script",s,null,{src:L.vue||f(L.debug?"vue.js":"vue.min.js")}))};var M,H=localStorage,N="VueRun_Cache|",D=function(t){for(var e=0;e<H.length;e++){var n=H.key(e),r={};0===n.indexOf(N)&&t(n,r)}},q=function(t,e,r){H&&n()&&setTimeout(function(){t=N+n()+"|"+r+"|"+t;try{H.setItem(t,JSON.stringify(e))}catch(t){M=!0,console.warn(t)}},1e3)};return h.clearCache=function(){if(H){var t=[];D(function(e,n){t.push(e)});for(var e in t)H.removeItem(t[e])}},w.VueRunDeal=function(t,e,n){var r="<template>"+e[0]+"</template>";r+="<script>"+e[1]+"<\/script>",r+="<style "+(n&&n.styles.length>0&&n.styles[0].elt.hasAttribute("data-scopeid")?"scoped":"")+">"+e[2]+"</style>",q(t,r,"v")},h});
